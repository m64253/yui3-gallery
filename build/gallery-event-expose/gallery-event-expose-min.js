YUI.add("gallery-event-expose",function(C){var A=C.DOM.viewportRegion(),B={_count:[],_watched:[],_triggers:[],_processing:false,_eventProcessTimeout:null,publishConfig:{emitFacade:false},on:function(G,F,D){if(!this._exposed(G,D)){var E=C.Array.indexOf(this._watched,G);if(this._count.length===0){C.on("resize",this._eventHandle,null,this);C.on("scroll",this._eventHandle,null,this);}if(E===-1){this._count.push(1);this._watched.push(G);this._triggers.push(D);}else{this._count[E]++;}}},detach:function(G,F,D){var E=C.Array.indexOf(this._watched,G);if(E!==-1){this._count[E]--;if(this._count===0){this._unwatch(E);}}},_process:function(){if(!this._processing){this._processing=true;var D=[];C.each(this._watched,function(F,E){if(this._exposed(F,this._triggers[E])){D.push(E);}},this);C.each(D.reverse(),this._unwatch,this);this._processing=false;}},_exposed:function(F,D){if(!YUI.Env.DOMReady){return false;}var E=F.inRegion(A,false);if(E){setTimeout(function(){D.fire();F.detach("expose");},0);return true;}return false;},_unwatch:function(D){this._count.splice(D,1);this._watched.splice(D,1);this._triggers.splice(D,1);if(this._count.length===0){C.detach("resize",this._resizeHandle);C.detach("scroll",this._scrollHandle);}},_eventHandle:function(){clearTimeout(this._eventProcessTimeout);var D=this;this._eventProcessTimeout=setTimeout(function(){A=C.DOM.viewportRegion();D._process();},50);}};C.on("domready",B._eventHandle,B);C.Event.define("expose",B);},"@VERSION@",{requires:["event-synthetic","node"]});